# ะะพะฑะฐะฒะปะตะฝะธะต ะพัะพะฑัะฐะถะตะฝะธั AI-ัะตะทัะผะต ะดะพะบัะผะตะฝัะฐ ะฒ ะผะพะดะฐะปัะฝะพะผ ะพะบะฝะต

**ะะฐัะฐ:** 28 ะพะบััะฑัั 2025  
**ะกัะฐััั:** โ ะะฐะฒะตััะตะฝะพ

## ะะทะผะตะฝะตะฝะธั

### 1. ะะพะฑะฐะฒะปะตะฝะพ ะฟะพะปะต `summary` ะฒ ัะธะฟ Document

**ะคะฐะนะป:** `frontend/src/types/index.ts`

ะะพะฑะฐะฒะปะตะฝะพ ะพะฟัะธะพะฝะฐะปัะฝะพะต ะฟะพะปะต `summary` ะฒ ะธะฝัะตััะตะนั `Document`, ะบะพัะพัะพะต ัะพะดะตัะถะธั ะบัะฐัะบะพะต ัะพะดะตัะถะฐะฝะธะต ะดะพะบัะผะตะฝัะฐ, ัะณะตะฝะตัะธัะพะฒะฐะฝะฝะพะต AI ะฒะพ ะฒัะตะผั ะพะฑัะฐะฑะพัะบะธ.

```typescript
export interface Document {
  // ... ะดััะณะธะต ะฟะพะปั
  summary?: string
  // ...
}
```

### 2. ะะพะฑะฐะฒะปะตะฝะฐ ัะตะบัะธั ะพัะพะฑัะฐะถะตะฝะธั summary ะฒ DocumentModal

**ะคะฐะนะป:** `frontend/src/components/Documents/DocumentModal.tsx`

ะะพะฑะฐะฒะปะตะฝะฐ ะฝะพะฒะฐั ัะตะบัะธั, ะบะพัะพัะฐั ะพัะพะฑัะฐะถะฐะตััั ะผะตะถะดั ะพัะฝะพะฒะฝะพะน ะธะฝัะพัะผะฐัะธะตะน ะพ ะดะพะบัะผะตะฝัะต ะธ ัะตะทัะปััะฐัะฐะผะธ ะฐะฝะฐะปะธะทะพะฒ (ะตัะปะธ ะตััั):

**ะัะพะฑะตะฝะฝะพััะธ ะพัะพะฑัะฐะถะตะฝะธั:**
- ะกะตะบัะธั ะพัะพะฑัะฐะถะฐะตััั ัะพะปัะบะพ ะตัะปะธ `summary` ะฟัะธัััััะฒัะตั ะธ ะฝะต ะฟัััะพะน
- ะะฐะณะพะปะพะฒะพะบ: "๐ ะัะฐัะบะพะต ัะพะดะตัะถะฐะฝะธะต (AI-ะฐะฝะฐะปะธะท)"
- ะัะฐัะธะฒะพะต ะพัะพัะผะปะตะฝะธะต ั ะณัะฐะดะธะตะฝัะฝัะผ ัะพะฝะพะผ (ะพั ัะธะฝะตะณะพ ะบ ะธะฝะดะธะณะพ)
- ะขะตะบัั ั ัะพััะฐะฝะตะฝะธะตะผ ะฟะตัะตะฝะพัะพะฒ ัััะพะบ (`whitespace-pre-wrap`)
- ะะดะฐะฟัะธะฒะฝัะต ะพััััะฟั ะดะปั ะผะพะฑะธะปัะฝัั ััััะพะนััะฒ

### 3. ะฃะฑัะฐะฝะพ ะดัะฑะปะธัะพะฒะฐะฝะธะต ะทะฐะณะพะปะพะฒะบะฐ ะฒ LabResultsTable

**ะคะฐะนะป:** `frontend/src/components/Documents/LabResultsTable.tsx`

ะ ัะฐะผะบะฐั ะฟัะตะดัะดััะตะน ะทะฐะดะฐัะธ ะฑัะป ัะดะฐะปะตะฝ ะดัะฑะปะธััััะธะน ะทะฐะณะพะปะพะฒะพะบ "ะะทะฒะปะตัะตะฝะฝัะต ัะตะทัะปััะฐัั ะฐะฝะฐะปะธะทะพะฒ", ัะฐะบ ะบะฐะบ ะพะฝ ัะถะต ะพัะพะฑัะฐะถะฐะตััั ะฒ ัะพะดะธัะตะปััะบะพะผ ะบะพะผะฟะพะฝะตะฝัะต `DocumentModal`.

## ะกัััะบัััะฐ ะผะพะดะฐะปัะฝะพะณะพ ะพะบะฝะฐ

ะะพัะปะต ะธะทะผะตะฝะตะฝะธะน ััััะบัััะฐ ะผะพะดะฐะปัะฝะพะณะพ ะพะบะฝะฐ ะฒัะณะปัะดะธั ัะปะตะดัััะธะผ ะพะฑัะฐะทะพะผ:

1. **ะะฐะณะพะปะพะฒะพะบ** - ะฝะฐะทะฒะฐะฝะธะต ัะฐะนะปะฐ ะธ ัะธะฟ ะดะพะบัะผะตะฝัะฐ
2. **ะัะฝะพะฒะฝะฐั ะธะฝัะพัะผะฐัะธั** (ัะตัะบะฐ 2 ะบะพะปะพะฝะบะธ):
   - ะะฐัะฐ ะดะพะบัะผะตะฝัะฐ
   - ะะฐัะฐ ะทะฐะณััะทะบะธ
   - ะะฝัะพัะผะฐัะธั ะพ ะฟะฐัะธะตะฝัะต
   - ะะตะดะธัะธะฝัะบะพะต ัััะตะถะดะตะฝะธะต
   - ะกะฟะตัะธะฐะปะธะทะฐัะธั
   - ะกัะฐััั ะพะฑัะฐะฑะพัะบะธ
   - ะะฐะทะผะตั ัะฐะนะปะฐ
3. **๐ ะัะฐัะบะพะต ัะพะดะตัะถะฐะฝะธะต** (AI-ะฐะฝะฐะปะธะท) - ะะะะะ
4. **๐ฌ ะะทะฒะปะตัะตะฝะฝัะต ัะตะทัะปััะฐัั ะฐะฝะฐะปะธะทะพะฒ** (ัะพะปัะบะพ ะดะปั ัะธะฟะฐ "ะะตะทัะปััะฐัั ะฐะฝะฐะปะธะทะฐ")
5. **ะคััะตั ั ะบะฝะพะฟะบะฐะผะธ** - ะัะบัััั, ะกะบะฐัะฐัั, ะฃะดะฐะปะธัั, ะะฐะบัััั

## ะััะพัะฝะธะบ ะดะฐะฝะฝัั

### MongoDB ััััะบัััะฐ
ะะพะปะต `summary` ััะฐะฝะธััั ะฒ MongoDB ะฒ ัะปะตะดัััะตะน ััััะบัััะต:
```
{
  "document_id": "...",
  "classification": { ... },
  "extracted_data": {
    "summary": "ะขะตะบัั ะบัะฐัะบะพะณะพ ัะพะดะตัะถะฐะฝะธั ะดะพะบัะผะตะฝัะฐ",
    "lab_results": [ ... ]
  }
}
```

### ะััั ะดะฐะฝะฝัั ะฒ ะบะพะดะต:
1. **MongoDB:** `extracted_data.summary`
2. **ะัะบะตะฝะด API:** Endpoint `/api/v1/documents/{document_id}` ะฒะพะทะฒัะฐัะฐะตั `DocumentWithMetadata` ั ะฟะพะปะตะผ `summary`
3. **Frontend:** ะะพะผะฟะพะฝะตะฝั `DocumentModal` ะพัะพะฑัะฐะถะฐะตั ะทะฝะฐัะตะฝะธะต ะธะท `doc.summary`

### ะะทะผะตะฝะตะฝะธั ะฒ ะฑัะบะตะฝะดะต

**ะคะฐะนะป:** `backend/app/api/v1/endpoints/documents.py`

ะะพ ะธะทะผะตะฝะตะฝะธะน endpoint `get_document` ะฒะพะทะฒัะฐัะฐะป ัะพะปัะบะพ ะดะฐะฝะฝัะต ะธะท PostgreSQL (`DocumentSchema`), ะฑะตะท ะผะตัะฐะดะฐะฝะฝัั ะธะท MongoDB.

ะะพัะปะต ะธะทะผะตะฝะตะฝะธะน:
- Response model ะธะทะผะตะฝะตะฝ ั `DocumentSchema` ะฝะฐ `DocumentWithMetadata`
- ะะพะฑะฐะฒะปะตะฝะฐ ะทะฐะณััะทะบะฐ ะผะตัะฐะดะฐะฝะฝัั ะธะท MongoDB (ะฐะฝะฐะปะพะณะธัะฝะพ endpoint `get_documents`)
- ะะทะฒะปะตะบะฐัััั ะฟะพะปั: `specialty`, `document_subtype`, `research_area`, `summary`
- Summary ะธะทะฒะปะตะบะฐะตััั ะธะท `extracted_data.summary` ะฒ MongoDB

## ะะธะทัะฐะปัะฝะพะต ะพัะพัะผะปะตะฝะธะต

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ ะัะฐัะบะพะต ัะพะดะตัะถะฐะฝะธะต (AI-ะฐะฝะฐะปะธะท)          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ โ  [Gradient Background: Blue โ Indigo] โ   โ
โ โ                                       โ   โ
โ โ  ะขะตะบัั summary ั ะฒะพะทะผะพะถะฝะพัััั         โ   โ
โ โ  ะผะฝะพะณะพัััะพัะฝะพะณะพ ะพัะพะฑัะฐะถะตะฝะธั           โ   โ
โ โ                                       โ   โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ะัะตะธะผััะตััะฒะฐ

1. **ะัััััะน ะดะพัััะฟ ะบ ะบะปััะตะฒะพะน ะธะฝัะพัะผะฐัะธะธ** - ะฟะพะปัะทะพะฒะฐัะตะปั ะฒะธะดะธั ะบัะฐัะบะพะต ัะพะดะตัะถะฐะฝะธะต ะดะพะบัะผะตะฝัะฐ ะฑะตะท ะฝะตะพะฑัะพะดะธะผะพััะธ ะพัะบััะฒะฐัั ัะฐะผ ัะฐะนะป
2. **AI-ะณะตะฝะตัะธัะพะฒะฐะฝะฝะพะต ัะตะทัะผะต** - ะฐะฒัะพะผะฐัะธัะตัะบะธ ะธะทะฒะปะตัะตะฝะฝะฐั ะฒะฐะถะฝะฐั ะธะฝัะพัะผะฐัะธั
3. **ะัะฐัะธะฒะพะต ะพัะพัะผะปะตะฝะธะต** - ะฒัะดะตะปัะตััั ะฒะธะทัะฐะปัะฝะพ ะพั ะดััะณะพะน ะธะฝัะพัะผะฐัะธะธ
4. **ะกะพััะฐะฝะตะฝะธะต ัะพัะผะฐัะธัะพะฒะฐะฝะธั** - ะฟะพะดะดะตัะถะบะฐ ะผะฝะพะณะพัััะพัะฝะพะณะพ ัะตะบััะฐ

## ะขะตััะธัะพะฒะฐะฝะธะต

ะะปั ะฟัะพะฒะตัะบะธ:
1. ะัะบัะพะนัะต ัััะฐะฝะธัั "ะะตะดะบะฐััะฐ"
2. ะะปะธะบะฝะธัะต ะฝะฐ ะดะพะบัะผะตะฝั, ั ะบะพัะพัะพะณะพ ะตััั AI-ัะณะตะฝะตัะธัะพะฒะฐะฝะฝะพะต ัะตะทัะผะต
3. ะ ะผะพะดะฐะปัะฝะพะผ ะพะบะฝะต ะดะพะปะถะฝะฐ ะฟะพัะฒะธัััั ัะตะบัะธั "๐ ะัะฐัะบะพะต ัะพะดะตัะถะฐะฝะธะต (AI-ะฐะฝะฐะปะธะท)"
4. ะขะตะบัั ะดะพะปะถะตะฝ ะพัะพะฑัะฐะถะฐัััั ั ะฟัะฐะฒะธะปัะฝัะผะธ ะฟะตัะตะฝะพัะฐะผะธ ัััะพะบ
5. ะะปั ะดะพะบัะผะตะฝัะพะฒ ะฑะตะท summary ััะฐ ัะตะบัะธั ะฝะต ะดะพะปะถะฝะฐ ะพัะพะฑัะฐะถะฐัััั

## ะกะฒัะทะฐะฝะฝัะต ัะฐะนะปั

### Frontend
- `frontend/src/types/index.ts` - ะดะพะฑะฐะฒะปะตะฝะพ ะฟะพะปะต `summary?: string` ะฒ ะธะฝัะตััะตะนั `Document`
- `frontend/src/components/Documents/DocumentModal.tsx` - ะดะพะฑะฐะฒะปะตะฝะฐ ัะตะบัะธั ะพัะพะฑัะฐะถะตะฝะธั summary

### Backend
- `backend/app/api/v1/endpoints/documents.py` - ะธะทะผะตะฝะตะฝ endpoint `get_document` ะดะปั ะทะฐะณััะทะบะธ ะผะตัะฐะดะฐะฝะฝัั ะธะท MongoDB
- `backend/app/schemas/document.py` - ััะตะผะฐ `DocumentWithMetadata` ั ะฟะพะปะตะผ summary (ะฑะตะท ะธะทะผะตะฝะตะฝะธะน)

### ะะฐะทะฐ ะดะฐะฝะฝัั
- **MongoDB:** ะบะพะปะปะตะบัะธั `document_metadata`, ะฟะพะปะต `extracted_data.summary`
- **PostgreSQL:** ัะฐะฑะปะธัะฐ `documents` (summary ะฝะต ััะฐะฝะธััั, ัะพะปัะบะพ ัััะปะบะฐ ะฝะฐ MongoDB ัะตัะตะท `mongodb_metadata_id`)

