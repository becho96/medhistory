# –ü—Ä–æ–º–ø—Ç –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã—Ö –∞–Ω–∞–ª–∏–∑–æ–≤

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —á–∏—Å–ª–æ–≤—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã—Ö –∞–Ω–∞–ª–∏–∑–æ–≤  
**–§—É–Ω–∫—Ü–∏—è:** `_build_labs_extraction_prompt()` –≤ `app/services/ai_service.py`  
**Endpoint:** `POST /api/v1/documents/{document_id}/analyze-labs`  
**–ú–æ–¥–µ–ª—å:** Claude 3.5 Sonnet (—á–µ—Ä–µ–∑ OpenRouter)

---

## üì§ –ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –ø—Ä–æ–º–ø—Ç–∞

```
–û–ø—Ä–µ–¥–µ–ª–∏, –µ—Å—Ç—å –ª–∏ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã—Ö –∞–Ω–∞–ª–∏–∑–æ–≤. –ï—Å–ª–∏ –¥–∞, –∏–∑–≤–ª–µ–∫–∏ –∏—Ö –≤ JSON –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–æ–≤–∞–Ω–Ω–æ–π —Å—Ö–µ–º–µ.

–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç:
{
  "lab_results": [
    {
      "test_name": "–Ω–∞–∑–≤–∞–Ω–∏–µ –∞–Ω–∞–ª–∏–∑–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: –≥–µ–º–æ–≥–ª–æ–±–∏–Ω, –≥–ª—é–∫–æ–∑–∞)",
      "value": "—á–∏—Å–ª–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–∞–∫ —Å—Ç—Ä–æ–∫–∞",
      "unit": "–µ–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä: –≥/–ª, –º–º–æ–ª—å/–ª, %)",
      "reference_range": "—Ä–µ—Ñ–µ—Ä–µ–Ω—Å–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω –∫–∞–∫ —Å—Ç—Ä–æ–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: 120-160)",
      "flag": "L|N|H|A"  // L –Ω–∏–∂–µ –Ω–æ—Ä–º—ã, N –Ω–æ—Ä–º–∞, H –≤—ã—à–µ –Ω–æ—Ä–º—ã, A –∞–±–Ω–æ—Ä–º–∞–ª—å–Ω–æ/–∫—Ä–∏—Ç–∏—á–Ω–æ
    }
  ]
}

–ü—Ä–∞–≤–∏–ª–∞:
- –ï—Å–ª–∏ –∞–Ω–∞–ª–∏–∑–æ–≤ –Ω–µ—Ç, –≤–µ—Ä–Ω–∏ {"lab_results": []}
- test_name –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ, –∫–∞–∫ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ, –Ω–æ –±–µ–∑ –ª–∏—à–Ω–µ–≥–æ —à—É–º–∞
- value –æ—Å—Ç–∞–≤–ª—è–π —Å—Ç—Ä–æ–∫–æ–π, –Ω–µ –æ–∫—Ä—É–≥–ª—è–π
- –í–ê–ñ–ù–û: unit –¥–æ–ª–∂–µ–Ω —Ç–æ—á–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –µ–¥–∏–Ω–∏—Ü–∞–º –∏–∑–º–µ—Ä–µ–Ω–∏—è –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞
  * –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω—ã –ø—Ä–æ—Ü–µ–Ω—Ç—ã (%), –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–∫–∞–∑—ã–≤–∞–π "%" –≤ unit
  * –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω—ã –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, 10*9/–ª, —Ö10^9/–ª, –≥/–ª), —É–∫–∞–∑—ã–≤–∞–π –∏—Ö —Ç–æ—á–Ω–æ –∫–∞–∫ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ
  * –†–∞–∑–Ω—ã–µ –µ–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è –æ–¥–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ—Ü–µ–Ω—Ç–Ω—ã–µ –∏ –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ) - —ç—Ç–æ –†–ê–ó–ù–´–ï –±–∏–æ–º–∞—Ä–∫–µ—Ä—ã
  * –ù–µ —Å–º–µ—à–∏–≤–∞–π –µ–¥–∏–Ω–∏—Ü—ã: –µ—Å–ª–∏ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ "–õ–∏–º—Ñ–æ—Ü–∏—Ç—ã 42%" –∏ "–õ–∏–º—Ñ–æ—Ü–∏—Ç—ã 2.5 10*9/–ª", —ç—Ç–æ –¥–≤–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∑–∞–ø–∏—Å–∏
- –ï—Å–ª–∏ –µ–¥–∏–Ω–∏—Ü –Ω–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–π null
- –ï—Å–ª–∏ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å –Ω–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–π null
- –û–ø—Ä–µ–¥–µ–ª–∏ flag –∏—Å—Ö–æ–¥—è –∏–∑ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–Ω–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞, –µ—Å–ª–∏ –æ–Ω —É–∫–∞–∑–∞–Ω
- –û—Ç–≤–µ—á–∞–π –¢–û–õ–¨–ö–û –≤–∞–ª–∏–¥–Ω—ã–º JSON

–ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è:
- "–õ–∏–º—Ñ–æ—Ü–∏—Ç—ã 42%" ‚Üí {"test_name": "–õ–∏–º—Ñ–æ—Ü–∏—Ç—ã", "value": "42", "unit": "%", ...}
- "–õ–∏–º—Ñ–æ—Ü–∏—Ç—ã 2.5 10*9/–ª" ‚Üí {"test_name": "–õ–∏–º—Ñ–æ—Ü–∏—Ç—ã", "value": "2.5", "unit": "10*9/–ª", ...}
- "–ì–µ–º–æ–≥–ª–æ–±–∏–Ω 145 –≥/–ª" ‚Üí {"test_name": "–ì–µ–º–æ–≥–ª–æ–±–∏–Ω", "value": "145", "unit": "–≥/–ª", ...}
- "–ì–µ–º–æ–≥–ª–æ–±–∏–Ω 14.5 –≥/–¥–ª" ‚Üí {"test_name": "–ì–µ–º–æ–≥–ª–æ–±–∏–Ω", "value": "14.5", "unit": "–≥/–¥–ª", ...}
```

---

## üîÑ –ü—Ä–æ—Ü–µ—Å—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

1. **–í—ã–∑–æ–≤ endpoint:**
   ```
   POST /api/v1/documents/{document_id}/analyze-labs
   ```

2. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ñ–∞–π–ª–∞:**
   - –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–æ–∫—É–º–µ–Ω—Ç –∏–∑ MinIO –ø–æ `file_url`
   - –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤ –±–∞–π—Ç—ã

3. **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞:**
   - –î–ª—è PDF: –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è —Ç–µ–∫—Å—Ç + –ø—Ä–æ–º–ø—Ç
   - –î–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: base64 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ + –ø—Ä–æ–º–ø—Ç

4. **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã API:**
   - `model`: "anthropic/claude-3.5-sonnet"
   - `temperature`: 0.1
   - `max_tokens`: 2000

5. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:**
   - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ MongoDB
   - –í `extracted_data.lab_results` –∫–æ–ª–ª–µ–∫—Ü–∏–∏ `document_metadata`

---

## üìä –ü—Ä–∏–º–µ—Ä—ã –æ—Ç–≤–µ—Ç–æ–≤ AI

### –û–±—â–∏–π –∞–Ω–∞–ª–∏–∑ –∫—Ä–æ–≤–∏
```json
{
  "lab_results": [
    {
      "test_name": "–ì–µ–º–æ–≥–ª–æ–±–∏–Ω",
      "value": "145",
      "unit": "–≥/–ª",
      "reference_range": "120-160",
      "flag": "N"
    },
    {
      "test_name": "–≠—Ä–∏—Ç—Ä–æ—Ü–∏—Ç—ã",
      "value": "4.5",
      "unit": "√ó10¬π¬≤/–ª",
      "reference_range": "4.0-5.5",
      "flag": "N"
    },
    {
      "test_name": "–õ–µ–π–∫–æ—Ü–∏—Ç—ã",
      "value": "8.2",
      "unit": "√ó10‚Åπ/–ª",
      "reference_range": "4.0-9.0",
      "flag": "N"
    },
    {
      "test_name": "–¢—Ä–æ–º–±–æ—Ü–∏—Ç—ã",
      "value": "220",
      "unit": "√ó10‚Åπ/–ª",
      "reference_range": "180-320",
      "flag": "N"
    },
    {
      "test_name": "–°–û–≠",
      "value": "12",
      "unit": "–º–º/—á",
      "reference_range": "2-15",
      "flag": "N"
    }
  ]
}
```

### –ë–∏–æ—Ö–∏–º–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∫—Ä–æ–≤–∏
```json
{
  "lab_results": [
    {
      "test_name": "–ì–ª—é–∫–æ–∑–∞",
      "value": "5.8",
      "unit": "–º–º–æ–ª—å/–ª",
      "reference_range": "3.9-6.1",
      "flag": "N"
    },
    {
      "test_name": "–•–æ–ª–µ—Å—Ç–µ—Ä–∏–Ω –æ–±—â–∏–π",
      "value": "6.2",
      "unit": "–º–º–æ–ª—å/–ª",
      "reference_range": "3.0-5.2",
      "flag": "H"
    },
    {
      "test_name": "–ê–õ–¢",
      "value": "28",
      "unit": "–ï–¥/–ª",
      "reference_range": "0-41",
      "flag": "N"
    },
    {
      "test_name": "–ê–°–¢",
      "value": "32",
      "unit": "–ï–¥/–ª",
      "reference_range": "0-40",
      "flag": "N"
    },
    {
      "test_name": "–ö—Ä–µ–∞—Ç–∏–Ω–∏–Ω",
      "value": "85",
      "unit": "–º–∫–º–æ–ª—å/–ª",
      "reference_range": "62-106",
      "flag": "N"
    },
    {
      "test_name": "–ë–∏–ª–∏—Ä—É–±–∏–Ω –æ–±—â–∏–π",
      "value": "15.2",
      "unit": "–º–∫–º–æ–ª—å/–ª",
      "reference_range": "3.4-20.5",
      "flag": "N"
    }
  ]
}
```

### –û–±—â–∏–π –∞–Ω–∞–ª–∏–∑ –º–æ—á–∏
```json
{
  "lab_results": [
    {
      "test_name": "–¶–≤–µ—Ç",
      "value": "—Å–æ–ª–æ–º–µ–Ω–Ω–æ-–∂–µ–ª—Ç—ã–π",
      "unit": null,
      "reference_range": null,
      "flag": "N"
    },
    {
      "test_name": "–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å",
      "value": "–ø–æ–ª–Ω–∞—è",
      "unit": null,
      "reference_range": null,
      "flag": "N"
    },
    {
      "test_name": "–£–¥–µ–ª—å–Ω—ã–π –≤–µ—Å",
      "value": "1.018",
      "unit": null,
      "reference_range": "1.010-1.025",
      "flag": "N"
    },
    {
      "test_name": "pH",
      "value": "6.0",
      "unit": null,
      "reference_range": "5.0-7.0",
      "flag": "N"
    },
    {
      "test_name": "–ë–µ–ª–æ–∫",
      "value": "–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç",
      "unit": null,
      "reference_range": "–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç",
      "flag": "N"
    },
    {
      "test_name": "–ì–ª—é–∫–æ–∑–∞",
      "value": "–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç",
      "unit": null,
      "reference_range": "–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç",
      "flag": "N"
    },
    {
      "test_name": "–õ–µ–π–∫–æ—Ü–∏—Ç—ã",
      "value": "0-2",
      "unit": "–≤ –ø/–∑—Ä",
      "reference_range": "0-5",
      "flag": "N"
    },
    {
      "test_name": "–≠—Ä–∏—Ç—Ä–æ—Ü–∏—Ç—ã",
      "value": "0-1",
      "unit": "–≤ –ø/–∑—Ä",
      "reference_range": "0-2",
      "flag": "N"
    }
  ]
}
```

### –î–æ–∫—É–º–µ–Ω—Ç –±–µ–∑ –∞–Ω–∞–ª–∏–∑–æ–≤
```json
{
  "lab_results": []
}
```

### –ì–æ—Ä–º–æ–Ω–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑
```json
{
  "lab_results": [
    {
      "test_name": "–¢–¢–ì",
      "value": "2.5",
      "unit": "–º–ú–ï/–ª",
      "reference_range": "0.4-4.0",
      "flag": "N"
    },
    {
      "test_name": "–¢4 —Å–≤–æ–±–æ–¥–Ω—ã–π",
      "value": "15.8",
      "unit": "–ø–º–æ–ª—å/–ª",
      "reference_range": "10.0-25.0",
      "flag": "N"
    },
    {
      "test_name": "–¢3 —Å–≤–æ–±–æ–¥–Ω—ã–π",
      "value": "4.2",
      "unit": "–ø–º–æ–ª—å/–ª",
      "reference_range": "2.6-5.7",
      "flag": "N"
    },
    {
      "test_name": "–ê–Ω—Ç–∏—Ç–µ–ª–∞ –∫ –¢–ü–û",
      "value": "12",
      "unit": "–ú–ï/–º–ª",
      "reference_range": "0-34",
      "flag": "N"
    }
  ]
}
```

---

## üéØ –§–ª–∞–≥–∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

| Flag | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|----------|
| `N` | Normal | –ó–Ω–∞—á–µ–Ω–∏–µ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –Ω–æ—Ä–º—ã |
| `L` | Low | –ó–Ω–∞—á–µ–Ω–∏–µ –Ω–∏–∂–µ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–Ω–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ |
| `H` | High | –ó–Ω–∞—á–µ–Ω–∏–µ –≤—ã—à–µ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–Ω–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ |
| `A` | Abnormal | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ/–∞–Ω–æ–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ |

---

## üìà –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∞–Ω–∞–ª–∏–∑–æ–≤
```
GET /api/v1/documents/{document_id}/labs
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "document_id": "uuid",
  "lab_results": [...]
}
```

### 2. –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –Ω–∞–ª–∏—á–∏–∏ –∞–Ω–∞–ª–∏–∑–æ–≤
```
GET /api/v1/documents/{document_id}/labs/summary
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "document_id": "uuid",
  "has_labs": true,
  "count": 8
}
```

### 3. –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∞–Ω–∞–ª–∏—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```
GET /api/v1/documents/labs/analytes
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "analytes": [
    {"name": "–ì–µ–º–æ–≥–ª–æ–±–∏–Ω", "count": 5},
    {"name": "–ì–ª—é–∫–æ–∑–∞", "count": 3},
    {"name": "–•–æ–ª–µ—Å—Ç–µ—Ä–∏–Ω –æ–±—â–∏–π", "count": 4}
  ]
}
```

### 4. –í—Ä–µ–º–µ–Ω–Ω–æ–π —Ä—è–¥ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∞–Ω–∞–ª–∏—Ç–∞
```
GET /api/v1/documents/labs/timeseries?analyte=–ì–µ–º–æ–≥–ª–æ–±–∏–Ω
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "analyte": "–ì–µ–º–æ–≥–ª–æ–±–∏–Ω",
  "points": [
    {
      "date": "2024-01-15",
      "value": "142",
      "value_num": 142.0,
      "unit": "–≥/–ª",
      "reference_range": "120-160",
      "flag": "N",
      "document_id": "uuid"
    },
    {
      "date": "2024-03-20",
      "value": "145",
      "value_num": 145.0,
      "unit": "–≥/–ª",
      "reference_range": "120-160",
      "flag": "N",
      "document_id": "uuid"
    }
  ]
}
```

---

## üîç –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ MongoDB

```javascript
{
  "document_id": "uuid",
  "user_id": "uuid",
  "classification": {...},
  "extracted_data": {
    "summary": "...",
    "lab_results": [  // ‚Üê –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–æ–≤
      {
        "test_name": "–ì–µ–º–æ–≥–ª–æ–±–∏–Ω",
        "value": "145",
        "unit": "–≥/–ª",
        "reference_range": "120-160",
        "flag": "N"
      }
    ]
  }
}
```

---

## üí° –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

1. **–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è:** –≤—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
2. **–ì–∏–±–∫–æ—Å—Ç—å:** –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞–∫ —á–∏—Å–ª–æ–≤—ã—Ö, —Ç–∞–∫ –∏ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è:** flag –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–Ω–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
4. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π:** value –∫–∞–∫ —Å—Ç—Ä–æ–∫–∞ –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏
5. **–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–ª—è:** unit –∏ reference_range –º–æ–≥—É—Ç –±—ã—Ç—å null
6. **–ü—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç:** –µ—Å–ª–∏ –∞–Ω–∞–ª–∏–∑–æ–≤ –Ω–µ—Ç, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤

---

## üé® –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

–ò–∑–≤–ª–µ—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è:
- üìä –ì—Ä–∞—Ñ–∏–∫–æ–≤ –¥–∏–Ω–∞–º–∏–∫–∏ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π
- üîî –í—ã—è–≤–ª–µ–Ω–∏—è –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–π –æ—Ç –Ω–æ—Ä–º—ã
- üìà –°—Ä–∞–≤–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤–æ –≤—Ä–µ–º–µ–Ω–∏
- üß™ –ê–≥—Ä–µ–≥–∞—Ü–∏–∏ –ø–æ —Ç–∏–ø–∞–º –∞–Ω–∞–ª–∏–∑–æ–≤
- üìâ –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Ç—Ä–µ–Ω–¥–æ–≤ –∑–¥–æ—Ä–æ–≤—å—è

---

**–§–∞–π–ª:** `backend/app/services/ai_service.py:_build_labs_extraction_prompt()`  
**–°–µ—Ä–≤–∏—Å:** `backend/app/services/lab_analysis_service.py`

