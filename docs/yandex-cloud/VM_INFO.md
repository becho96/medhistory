# üñ•Ô∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ

–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∏ –¥–µ—Ç–∞–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã MedHistory –≤ –Ø–Ω–¥–µ–∫—Å.–û–±–ª–∞–∫–µ.

---

## üìä –û—Å–Ω–æ–≤–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| **ID** | `fhmsq7s4569qgl1oga4p` |
| **–ò–º—è** | `medhistory-server` |
| **–°—Ç–∞—Ç—É—Å** | `RUNNING` |
| **–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞** | `standard-v2` |
| **–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è** | 28 –æ–∫—Ç—è–±—Ä—è 2025, 18:46:11 MSK |

---

## üíª –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –í—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
- **vCPU:** 4 —è–¥—Ä–∞
- **Core fraction:** 100% (–≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)
- **RAM:** 8 GB (8589934592 bytes)

### –•—Ä–∞–Ω–∏–ª–∏—â–µ
- **–ó–∞–≥—Ä—É–∑–æ—á–Ω—ã–π –¥–∏—Å–∫:**
  - –¢–∏–ø: `network-ssd`
  - –†–∞–∑–º–µ—Ä: 50 GB
  - Device name: `fhm7lhk4a8ruibjj7l4e`
  - Auto-delete: `true`
  - –°–≤–æ–±–æ–¥–Ω–æ: ~47 GB

### –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
- **–û–°:** Ubuntu 22.04.5 LTS (Jammy Jellyfish)
- **Kernel:** Linux
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** x86_64

---

## üåê –°–µ—Ç–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### IP –∞–¥—Ä–µ—Å–∞
- **–í–Ω–µ—à–Ω–∏–π IP:** `158.160.99.232` (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π NAT)
- **–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π IP:** `10.128.0.19`
- **MAC –∞–¥—Ä–µ—Å:** `d0:0d:1c:d1:f8:42`

### –°–µ—Ç—å
- **Network ID:** `enpvbooknqn7tsd5bfu8`
- **Subnet ID:** `e9b47srrtuufggg2udh6`
- **Subnet name:** `medhistory-subnet-a`
- **–ó–æ–Ω–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏:** `ru-central1-a`
- **CIDR:** `10.128.0.0/24`

### –ì—Ä—É–ø–ø–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **Security Group ID:** `enpo36phcf9ck74h6igk`
- **–ò–º—è:** `medhistory-sg`

#### –ü—Ä–∞–≤–∏–ª–∞ –≤—Ö–æ–¥—è—â–µ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞ (Ingress)
| –ü–æ—Ä—Ç | –ü—Ä–æ—Ç–æ–∫–æ–ª | –ò—Å—Ç–æ—á–Ω–∏–∫ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|----------|----------|
| 22 | TCP | 0.0.0.0/0 | SSH |
| 80 | TCP | 0.0.0.0/0 | HTTP |
| 443 | TCP | 0.0.0.0/0 | HTTPS |

#### –ü—Ä–∞–≤–∏–ª–∞ –∏—Å—Ö–æ–¥—è—â–µ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞ (Egress)
| –ü–æ—Ä—Ç | –ü—Ä–æ—Ç–æ–∫–æ–ª | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|------------|----------|
| any | any | 0.0.0.0/0 | Allow all outgoing |

---

## üîê –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ—Å—Ç—É–ø–∞

### SSH
- **SSH Authorization:** `OS_LOGIN` (Yandex Cloud OS Login)
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** `yc-user`
- **SSH –∫–ª—é—á:** –ù–∞—Å—Ç—Ä–æ–µ–Ω –≤ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –í–ú
- **Serial Port:** –í–∫–ª—é—á–µ–Ω

### –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
```yaml
serial-port-enable: 1
ssh-keys: "yc-user:<public_key>"
```

### FQDN
- **Internal FQDN:** `fhmsq7s4569qgl1oga4p.auto.internal`

---

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–∏–º–∏—Ç—ã

### –¢–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
ssh -l yc-user 158.160.99.232 'top -bn1 | head -20'
```

### –î–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ
```bash
ssh -l yc-user 158.160.99.232 'df -h'
```

**–í—ã–≤–æ–¥:**
```
Filesystem      Size  Used Avail Use% Mounted on
/dev/vda1        48G  1.8G   47G   4% /
```

### –ü–∞–º—è—Ç—å
```bash
ssh -l yc-user 158.160.99.232 'free -h'
```

**–í—ã–≤–æ–¥:**
```
              total        used        free      shared  buff/cache   available
Mem:           7.8Gi       158Mi       7.0Gi       0.0Ki       564Mi       7.4Gi
Swap:             0B          0B          0B
```

---

## üîÑ –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –í–ú

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∏—Ç–∞–Ω–∏–µ–º
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ (–¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è, —ç–∫–æ–Ω–æ–º–∏—è —Å—Ä–µ–¥—Å—Ç–≤)
yc compute instance stop fhmsq7s4569qgl1oga4p

# –ó–∞–ø—É—Å–∫
yc compute instance start fhmsq7s4569qgl1oga4p

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞
yc compute instance restart fhmsq7s4569qgl1oga4p
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```bash
# –ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —è–¥–µ—Ä –∏ –ø–∞–º—è—Ç–∏ (—Ç—Ä–µ–±—É–µ—Ç—Å—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –í–ú)
yc compute instance update fhmsq7s4569qgl1oga4p \
  --cores 8 \
  --memory 16

# –£–≤–µ–ª–∏—á–∏—Ç—å –¥–∏—Å–∫ (–º–æ–∂–Ω–æ –±–µ–∑ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏)
yc compute disk update fhm7lhk4a8ruibjj7l4e --size 100
```

---

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å

### –ï–∂–µ–º–µ—Å—è—á–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã (–ø—Ä–∏–º–µ—Ä–Ω–æ)

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–æ–∏–º–æ—Å—Ç—å |
|-----------|-----------|
| **4 vCPU (100%)** | ~2,500‚ÇΩ/–º–µ—Å |
| **8 GB RAM** | –í–∫–ª—é—á–µ–Ω–æ –≤ —Å—Ç–æ–∏–º–æ—Å—Ç—å vCPU |
| **50 GB SSD** | ~500‚ÇΩ/–º–µ—Å |
| **–í–Ω–µ—à–Ω–∏–π IP** | ~150‚ÇΩ/–º–µ—Å |
| **–¢—Ä–∞—Ñ–∏–∫** | ~200‚ÇΩ/–º–µ—Å |
| **–ò—Ç–æ–≥–æ** | **~3,350‚ÇΩ/–º–µ—Å** |

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞—Å—Ö–æ–¥–æ–≤

1. **–û—Å—Ç–∞–Ω–æ–≤–∫–∞ –í–ú –≤ –Ω–µ—Ä–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è:**
   ```bash
   # –û–ø–ª–∞—Ç–∞ —Ç–æ–ª—å–∫–æ –∑–∞ –¥–∏—Å–∫ (~500‚ÇΩ/–º–µ—Å)
   yc compute instance stop medhistory-server
   ```

2. **–°–Ω–∏–∂–µ–Ω–∏–µ core-fraction:**
   ```bash
   # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å 50% –≤–º–µ—Å—Ç–æ 100% (—ç–∫–æ–Ω–æ–º–∏—è ~50%)
   yc compute instance update fhmsq7s4569qgl1oga4p --core-fraction 50
   ```

3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–µ—Ä—ã–≤–∞–µ–º–æ–π –í–ú:**
   - –°–∫–∏–¥–∫–∞ –¥–æ 70%
   - –ú–æ–∂–µ—Ç –±—ã—Ç—å –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç

---

## üì¶ –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°–æ–∑–¥–∞–Ω–∏–µ —Å–Ω–∏–º–∫–∞ –¥–∏—Å–∫–∞
```bash
# –°–æ–∑–¥–∞—Ç—å snapshot
yc compute snapshot create \
  --name medhistory-snapshot-$(date +%Y%m%d) \
  --disk-id fhm7lhk4a8ruibjj7l4e \
  --description "Backup before update"

# –°–ø–∏—Å–æ–∫ —Å–Ω–∏–º–∫–æ–≤
yc compute snapshot list

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ —Å–Ω–∏–º–∫–∞
yc compute disk create \
  --name medhistory-disk-restored \
  --source-snapshot-name medhistory-snapshot-20251028
```

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –±—ç–∫–∞–ø–æ–≤
```bash
# –°–æ–∑–¥–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Å–Ω–∏–º–∫–æ–≤
yc compute snapshot-schedule create daily-backup \
  --disk-id fhm7lhk4a8ruibjj7l4e \
  --schedule-policy "start_at: '02:00', expression: '0 2 * * *'" \
  --snapshot-count 7 \
  --retention-period 168h
```

---

## üìã –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

### –ß–µ—Ä–µ–∑ YC CLI
```bash
# –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
yc compute instance get medhistory-server

# –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ YAML
yc compute instance get fhmsq7s4569qgl1oga4p --format yaml

# –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ JSON
yc compute instance get fhmsq7s4569qgl1oga4p --format json
```

### –ß–µ—Ä–µ–∑ API
```bash
# –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω
export YC_TOKEN=$(yc iam create-token)

# –ó–∞–ø—Ä–æ—Å –∫ API
curl -H "Authorization: Bearer $YC_TOKEN" \
  https://compute.api.cloud.yandex.net/compute/v1/instances/fhmsq7s4569qgl1oga4p
```

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [–ö–æ–Ω—Å–æ–ª—å Yandex Cloud](https://console.cloud.yandex.ru/folders/b1gudpmb327g7hf8rc5i)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Compute Cloud](https://cloud.yandex.ru/docs/compute/)
- [Pricing Calculator](https://cloud.yandex.ru/prices)

---

## üìù –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

| –î–∞—Ç–∞ | –ò–∑–º–µ–Ω–µ–Ω–∏–µ |
|------|-----------|
| 28.10.2025 | –°–æ–∑–¥–∞–Ω–∏–µ –í–ú medhistory-server |
| 28.10.2025 | –î–æ–±–∞–≤–ª–µ–Ω SSH –∫–ª—é—á –≤ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ |
| 28.10.2025 | –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –≥—Ä—É–ø–ø–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ |

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 28 –æ–∫—Ç—è–±—Ä—è 2025

