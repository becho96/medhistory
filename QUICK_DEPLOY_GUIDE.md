# üöÄ –ë—ã—Å—Ç—Ä–∞—è —à–ø–∞—Ä–≥–∞–ª–∫–∞ –ø–æ –¥–µ–ø–ª–æ—é

## –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã (–≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è!)

```bash
# –û–±—ã—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞ - –±–µ–∑–æ–ø–∞—Å–Ω–æ
./deploy staging --rebuild

# –ë—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ - –µ—â–µ –±—ã—Å—Ç—Ä–µ–µ
./deploy staging --update

# –° –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º
./deploy staging --monitoring
```

## –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏?

‚úÖ **–î–∞–Ω–Ω—ã–µ –í–°–ï–ì–î–ê —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è!**
- PostgreSQL –¥–∞–Ω–Ω—ã–µ ‚Üí –≤ volume `postgres_data`
- MongoDB –¥–∞–Ω–Ω—ã–µ ‚Üí –≤ volume `mongodb_data`
- MinIO —Ñ–∞–π–ª—ã ‚Üí –≤ volume `minio_data`

‚ö†Ô∏è –î–∞–Ω–Ω—ã–µ —É–¥–∞–ª—è—é—Ç—Å—è –¢–û–õ–¨–ö–û –ø—Ä–∏ —è–≤–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Ñ–ª–∞–≥–∞ `--clean-data`

## –°–µ–≥–æ–¥–Ω—è—à–Ω–∏–π –∫–µ–π—Å: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ CORS

**–ü—Ä–æ–±–ª–µ–º–∞:** –û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–∞ staging

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# 1. –ò—Å–ø—Ä–∞–≤–∏–ª–∏ CORS –≤ backend/main.py
# 2. –ò—Å–ø—Ä–∞–≤–∏–ª–∏ VITE_API_URL –≤ environments/staging.env
# 3. –ü—Ä–∏–º–µ–Ω–∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è
./deploy staging --rebuild
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç, ‚úÖ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!

## –ß–∞—Å—Ç—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### –ò–∑–º–µ–Ω–∏–ª–∏ –∫–æ–¥ (Python/TypeScript)
```bash
./deploy staging --rebuild
```

### –ò–∑–º–µ–Ω–∏–ª–∏ —Ç–æ–ª—å–∫–æ .env —Ñ–∞–π–ª
```bash
vim environments/staging.env  # –∏–ª–∏ –¥—Ä—É–≥–æ–π —Ä–µ–¥–∞–∫—Ç–æ—Ä
cp environments/staging.env .env.staging
./deploy staging --update     # –ë—ã—Å—Ç—Ä–æ!
```

### –î–æ–±–∞–≤–∏–ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
```bash
# –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è requirements.txt –∏–ª–∏ package.json
./deploy staging --rebuild
```

### –ù—É–∂–µ–Ω —á–∏—Å—Ç—ã–π —Å—Ç–∞—Ä—Ç (‚ö†Ô∏è —É–¥–∞–ª–∏—Ç –¥–∞–Ω–Ω—ã–µ!)
```bash
./deploy staging --clean-data --rebuild
# –ü–æ—Ç—Ä–µ–±—É–µ—Ç –≤–≤–µ—Å—Ç–∏ "YES" –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ volumes

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å volumes
docker volume ls | grep staging

# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å:
# medhistory-staging_postgres_data
# medhistory-staging_mongodb_data  
# medhistory-staging_minio_data
```

## –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

üìñ –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ: `docs/DEPLOY_USAGE_GUIDE.md`

## –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å—Ä–µ–¥—ã

- `local` - —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (–ø–æ—Ä—Ç—ã: 5173, 8000)
- `staging` - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–ø–æ—Ä—Ç—ã: 8080, 8001)
- `production` - production (—É–¥–∞–ª–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä)

